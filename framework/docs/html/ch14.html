<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Rozdzia&#322; 14. Widoki</title><meta name="generator" content="DocBook XSL Stylesheets V1.66.1"><link rel="start" href="index.html" title="Dokumentacja projektu Coyote Framework 1.1.2"><link rel="up" href="pt01.html" title="Cz&#281;&#347;&#263; I. Dokumentacja techniczna"><link rel="prev" href="ch13s13.html" title="Pobranie wersji systemu bazodanowego"><link rel="next" href="ch14s02.html" title="Zwracanie wyniku w akcji"></head><body bgcolor="white" text="black" link="" vlink="" alink="" style="font-family: Arial;"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Rozdzia&#322; 14. Widoki</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch13s13.html">Poprzedni</a> </td><th width="60%" align="center">Cz&#281;&#347;&#263; I. Dokumentacja techniczna</th><td width="20%" align="right"> <a accesskey="n" href="ch14s02.html">Nast&#281;pny</a></td></tr></table><hr></div><div class="chapter" lang="pl"><div class="titlepage"><div><div><h2 class="title"><a name="id486693"></a>Rozdzia&#322; 14. Widoki</h2></div></div></div><div class="toc"><p><b>Spis tre&#347;ci</b></p><dl><dt><span class="section"><a href="ch14.html#id486702">Tworzenie szablonu</a></span></dt><dd><dl><dt><span class="section"><a href="ch14.html#id486763">Konfiguracja katalogu z szablonami</a></span></dt></dl></dd><dt><span class="section"><a href="ch14s02.html">Zwracanie wyniku w akcji</a></span></dt><dd><dl><dt><span class="section"><a href="ch14s02.html#id486927">Sta&#322;e klasy View</a></span></dt><dt><span class="section"><a href="ch14s02.html#id487027">U&#380;ycie &#322;a&#324;cucha</a></span></dt></dl></dd><dt><span class="section"><a href="ch14s03.html">Przekazywanie danych do widoku</a></span></dt><dt><span class="section"><a href="ch14s04.html">U&#380;ywanie kodu PHP w szablonach</a></span></dt><dt><span class="section"><a href="ch14s05.html">Klasa View</a></span></dt><dd><dl><dt><span class="section"><a href="ch14s05.html#id487342">Wy&#347;wietlanie zawarto&#347;ci widoku</a></span></dt><dt><span class="section"><a href="ch14s05.html#id487386">Przekazywanie danych do widoku</a></span></dt><dt><span class="section"><a href="ch14s05.html#id487588">Statyczna metoda getView()</a></span></dt></dl></dd><dt><span class="section"><a href="ch14s06.html">Klasa widoku</a></span></dt><dd><dl><dt><span class="section"><a href="ch14s06.html#id487680">W&#322;asna klasa widoku</a></span></dt><dt><span class="section"><a href="ch14s06.html#id487812">Wywo&#322;ywanie widoku</a></span></dt></dl></dd><dt><span class="section"><a href="ch14s07.html">&#321;adowanie klasy View przy pomocy loadera</a></span></dt><dt><span class="section"><a href="ch14s08.html">Konfiguracja widoku</a></span></dt><dd><dl><dt><span class="section"><a href="ch14s08.html#id488011">Layouty</a></span></dt><dt><span class="section"><a href="ch14s08.html#id488149">Okre&#347;lanie nazwy pliku konfiguracji widoków</a></span></dt><dt><span class="section"><a href="ch14s08.html#id488287">Budowa plików konfiguracji</a></span></dt><dt><span class="section"><a href="ch14s08.html#id488401">Ustawianie tytu&#322;u dla strony</a></span></dt><dt><span class="section"><a href="ch14s08.html#id488498">Ustawianie szablonów CSS</a></span></dt><dt><span class="section"><a href="ch14s08.html#id488825">Przypisanie skryptów JavaScript</a></span></dt><dt><span class="section"><a href="ch14s08.html#id488915">Ustawianie znaczników META</a></span></dt><dt><span class="section"><a href="ch14s08.html#id488971">Ustawianie atrybutów</a></span></dt><dt><span class="section"><a href="ch14s08.html#id489055">U&#380;ywanie warto&#347;ci konfiguracyjnych klasy Config</a></span></dt><dt><span class="section"><a href="ch14s08.html#id489141">Formaty konfiguracji</a></span></dt></dl></dd></dl></div><p>Widoki to warstwa aplikacji odpowiadaj&#261;ca za prezentacj&#281; danych. W Coyote typowym
        adapterem dla widoków jest klasa XHTML. Widoki, przewa&#380;nie wy&#347;wietlaj&#261; dane w formie XHTML +
        CSS, lecz nic nie stoi na przeszkodzie, aby widoki zwraca&#322;y dane w innej formie (XML, PDF,
        JSON). </p><div class="section" lang="pl"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="id486702"></a>Tworzenie szablonu</h2></div></div></div><p>Nim przejdziemy dalej - utwórzmy w folderze naszej aplikacji, katalog <tt class="filename">template</tt>. W katalogu b&#281;d&#261; znajdowa&#263; si&#281; sablony zawieraj&#261;ce kod XHTML.
            Utwórz w tym katalogu plik foo.php. Dla naszej aplikacji, przyk&#322;adowy szablon mo&#380;e by&#263;
            banalny:</p><pre class="programlisting">&lt;h1&gt;Witaj &lt;?= $username; ?&gt;&lt;/h1&gt;
&lt;hr /&gt;</pre><p>W procesie wy&#347;wietlania szablonu, w kodzie <tt class="varname">$username</tt> zostanie
            zast&#261;piona przez warto&#347;&#263; znajduj&#261;c&#261; si&#281; w tej zmiennej. Utwórz teraz kontroler o nazwie
            Foo. Niech jego przyk&#322;adowy kod b&#281;dzie
            taki:</p><pre class="programlisting">&lt;?php

class Foo extends Controller
{
	function main()
	{
		$this-&gt;username = 'Adam Boduch';

		return true;
	}
}
?&gt;</pre><p>Mamy tutaj klas&#281; <tt class="classname">Foo</tt> (kontroler Foo) oraz g&#322;ówn&#261; metod&#281;
                <tt class="methodname">main()</tt>. Jak widzisz przypisujemy tutaj warto&#347;&#263; pola
                <tt class="varname">username</tt>, a nast&#281;pnie zwracamy warto&#347;&#263; true. Spowoduje to
            wy&#347;wietlenie widoku, który za&#322;aduje szablon <tt class="filename">foo.php</tt> i przeka&#380;e do
            niego warto&#347;ci pola z klasy kontrolera (czyli w tym przypadku -
            <tt class="varname">username</tt>). </p><div class="section" lang="pl"><div class="titlepage"><div><div><h3 class="title"><a name="id486763"></a>Konfiguracja katalogu z szablonami</h3></div></div></div><p>Warto&#347;&#263; <span class="emphasis"><em>core.template</em></span> zawiera nazw&#281; katalogu, w którym system
                domy&#347;lnie b&#281;dzie poszukiwa&#322; szablonów. Warto&#347;&#263; tego pola jest nadawana automatycznie
                w klasie <tt class="classname">Core</tt> tylko je&#380;eli nie zosta&#322;a ona wcze&#347;niej
                zadeklarowana w pliku konfiguracji. Domy&#347;lnie warto&#347;ci&#261; tego pola konfiguracji jest
                    <span class="emphasis"><em>template</em></span>.</p><p>Mo&#380;esz ustawi&#263; warto&#347;&#263; tego pola w pliku
                konfiguracyjnym:</p><pre class="programlisting">&lt;core&gt;
    &lt;template&gt;view&lt;/template&gt;
&lt;/core&gt;</pre><p>Mo&#380;esz równie&#380; ustawi&#263; (nadpisa&#263;) warto&#347;&#263; tego pola w trakcie dzia&#322;ania
                aplikacji:</p><pre class="programlisting">Config::setItem('core.template', 'view');</pre></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch13s13.html">Poprzedni</a> </td><td width="20%" align="center"><a accesskey="u" href="pt01.html">Pocz&#261;tek rozdzia&#322;u</a></td><td width="40%" align="right"> <a accesskey="n" href="ch14s02.html">Nast&#281;pny</a></td></tr><tr><td width="40%" align="left" valign="top">Pobranie wersji systemu bazodanowego </td><td width="20%" align="center"><a accesskey="h" href="index.html">Spis tre&#347;ci</a></td><td width="40%" align="right" valign="top"> Zwracanie wyniku w akcji</td></tr></table></div></body></html>
